# Backend í´ë” êµ¬ì¡°

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
backend/
â”‚
â”œâ”€â”€ api/                    # API ì—”ë“œí¬ì¸íŠ¸ ë° ì„œë²„ ê´€ë ¨
â”‚   â”œâ”€â”€ api_server.py       # ë©”ì¸ API ì„œë²„
â”‚   â”œâ”€â”€ api_strategy_routes.py  # ì „ëµ ê´€ë ¨ API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ backend_api.py      # ë°±ì—”ë“œ API í•µì‹¬ ë¡œì§
â”‚   â”œâ”€â”€ main.py            # FastAPI ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ main_dev.py        # ê°œë°œìš© ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚
â”œâ”€â”€ core/                   # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ strategy_manager.py     # ì „ëµ ê´€ë¦¬
â”‚   â”œâ”€â”€ strategy_config_manager.py  # ì „ëµ ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ strategy_config_schema.py   # ì „ëµ ì„¤ì • ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ strategy_execution_manager.py  # ì „ëµ ì‹¤í–‰ ê´€ë¦¬
â”‚   â”œâ”€â”€ risk_manager.py         # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ trading_engine.py       # íŠ¸ë ˆì´ë”© ì—”ì§„
â”‚   â”œâ”€â”€ dynamic_indicator_system.py  # ë™ì  ì§€í‘œ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ data_pipeline.py        # ë°ì´í„° íŒŒì´í”„ë¼ì¸
â”‚   â””â”€â”€ cloud_executor.py       # í´ë¼ìš°ë“œ ì‹¤í–‰ ê´€ë¦¬
â”‚
â”œâ”€â”€ database/               # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨
â”‚   â”œâ”€â”€ database.py         # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê´€ë¦¬
â”‚   â”œâ”€â”€ database_supabase.py    # Supabase ì—°ê²° ê´€ë¦¬
â”‚   â””â”€â”€ models.py           # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚
â”œâ”€â”€ scripts/                # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ kiwoom/            # í‚¤ì›€ ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ kiwoom_api.py           # í‚¤ì›€ API í•µì‹¬
â”‚   â”‚   â”œâ”€â”€ kiwoom_bridge_server.py # í‚¤ì›€ ë¸Œë¦¬ì§€ ì„œë²„
â”‚   â”‚   â”œâ”€â”€ kiwoom_hybrid_api.py    # í‚¤ì›€ í•˜ì´ë¸Œë¦¬ë“œ API
â”‚   â”‚   â”œâ”€â”€ kiwoom_data_saver.py    # í‚¤ì›€ ë°ì´í„° ì €ì¥
â”‚   â”‚   â”œâ”€â”€ kiwoom_supabase_bridge.py  # í‚¤ì›€-Supabase ë¸Œë¦¬ì§€
â”‚   â”‚   â”œâ”€â”€ kiwoom_trading_api.py   # í‚¤ì›€ íŠ¸ë ˆì´ë”© API
â”‚   â”‚   â””â”€â”€ *.bat                   # ê°ì¢… ì‹¤í–‰ ë°°ì¹˜ íŒŒì¼
â”‚   â”‚
â”‚   â””â”€â”€ setup/             # ì„¤ì¹˜ ë° ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
â”‚       â”œâ”€â”€ setup_*.py     # ê°ì¢… ì„¤ì • íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸
â”‚       â”œâ”€â”€ setup_*.bat    # ì„¤ì • ë°°ì¹˜ íŒŒì¼
â”‚       â””â”€â”€ *.md           # ì„¤ì • ê°€ì´ë“œ ë¬¸ì„œ
â”‚
â”œâ”€â”€ sql/                    # SQL ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ create_*.sql       # í…Œì´ë¸” ìƒì„± SQL
â”‚   â”œâ”€â”€ alter_*.sql        # í…Œì´ë¸” ìˆ˜ì • SQL
â”‚   â”œâ”€â”€ update_*.sql       # ë°ì´í„° ì—…ë°ì´íŠ¸ SQL
â”‚   â”œâ”€â”€ fix_*.sql          # ë²„ê·¸ ìˆ˜ì • SQL
â”‚   â””â”€â”€ check_*.sql        # ë°ì´í„° í™•ì¸ SQL
â”‚
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ test_*.py          # ê°ì¢… í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ check_*.py         # ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ inspect_*.py       # ê²€ì‚¬ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ strategies/             # ì „ëµ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ base_strategy.py   # ê¸°ë³¸ ì „ëµ í´ë˜ìŠ¤
â”‚   â””â”€â”€ momentum_strategy.py  # ëª¨ë©˜í…€ ì „ëµ
â”‚
â”œâ”€â”€ config/                 # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ config.py          # ë©”ì¸ ì„¤ì •
â”‚   â””â”€â”€ save_complex_indicators.py  # ë³µì¡í•œ ì§€í‘œ ì €ì¥ ì„¤ì •
â”‚
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â”‚   â”œâ”€â”€ *.md               # ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œ
â”‚   â””â”€â”€ *.json             # JSON ì˜ˆì œ íŒŒì¼
â”‚
â”œâ”€â”€ venv32/                # 32ë¹„íŠ¸ íŒŒì´ì¬ ê°€ìƒí™˜ê²½
â”œâ”€â”€ requirements.txt       # íŒŒì´ì¬ íŒ¨í‚¤ì§€ ìš”êµ¬ì‚¬í•­
â”œâ”€â”€ Procfile              # Heroku ë°°í¬ ì„¤ì •
â””â”€â”€ run_servers.sh        # ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

```

## ğŸš€ ì£¼ìš” ëª¨ë“ˆ ì„¤ëª…

### API ëª¨ë“ˆ
- FastAPI ê¸°ë°˜ REST API ì„œë²„
- ì „ëµ ê´€ë¦¬, ì£¼ë¬¸ ì‹¤í–‰, ë°ì´í„° ì¡°íšŒ ì—”ë“œí¬ì¸íŠ¸ ì œê³µ

### Core ëª¨ë“ˆ
- íŠ¸ë ˆì´ë”© ì „ëµ ì‹¤í–‰ ë° ê´€ë¦¬
- ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë° í¬ì§€ì…˜ ê´€ë¦¬
- ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ë° ì‹ í˜¸ ìƒì„±

### Database ëª¨ë“ˆ
- Supabase ì—°ê²° ë° ë°ì´í„° ì €ì¥
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

### Scripts ëª¨ë“ˆ
- í‚¤ì›€ OpenAPI ì—°ë™ ìŠ¤í¬ë¦½íŠ¸
- ì‹œìŠ¤í…œ ì„¤ì • ë° ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸

## ğŸ“ ì‹¤í–‰ ë°©ë²•

1. **API ì„œë²„ ì‹¤í–‰**
   ```bash
   cd backend
   python api/main.py
   ```

2. **í‚¤ì›€ ë¸Œë¦¬ì§€ ì„œë²„ ì‹¤í–‰**
   ```bash
   cd backend/scripts/kiwoom
   python kiwoom_bridge_server.py
   ```

3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
   ```bash
   cd backend
   python tests/test_kiwoom_data_flow.py
   ```