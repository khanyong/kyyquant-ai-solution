# 코드 수정 전 필수 검토 규칙 (Code Review Rules)

## 1. 기본 규칙 (Basic Rules)

### 1.1 이모지 사용 금지
- [ ] 모든 코드에서 이모지 제거
- [ ] 로그 메시지에 이모지 사용 금지
- [ ] 주석에 이모지 사용 금지
- [ ] 대신 사용할 텍스트 표현:
  - ✅ → [OK], [SUCCESS], [DONE]
  - ❌ → [ERROR], [FAIL], [X]
  - ⚠️ → [WARNING], [WARN], [!]
  - 📌 → [INFO], [NOTE]
  - 🔍 → [DEBUG], [CHECK]

### 1.2 인코딩 고려
- [ ] 한글 사용 시 UTF-8 인코딩 확인
- [ ] 터미널 출력 시 cp949 인코딩 문제 체크
- [ ] 가능한 영문 로그 사용

## 2. 코드 수정 전 체크리스트

### 2.1 영향 범위 확인
```
- [ ] 수정할 파일이 어디서 사용되는지 확인
- [ ] 프론트엔드/백엔드 모두 영향받는지 체크
- [ ] Docker 컨테이너 재빌드 필요 여부
- [ ] 환경변수 변경 필요 여부
```

### 2.2 백업 및 버전 관리
```
- [ ] 중요 파일 백업 생성 (_backup.py 등)
- [ ] Git 상태 확인 (git status)
- [ ] 변경사항 커밋 전 테스트
```

### 2.3 테스트 계획
```
- [ ] 로컬 테스트 스크립트 작성
- [ ] 최소 테스트 케이스 준비
- [ ] 에러 처리 확인
```

## 3. 환경별 체크사항

### 3.1 로컬 개발 환경
```
- [ ] .env 파일 설정 확인
- [ ] .env.local이 .env보다 우선순위 높음
- [ ] .env.development가 개발 모드에서 사용됨
```

### 3.2 Docker/NAS 환경
```
- [ ] 볼륨 마운트 확인 (./:/app)
- [ ] 환경변수 전달 확인
- [ ] 컨테이너 로그 확인 방법 준비
```

### 3.3 Vercel 프로덕션
```
- [ ] VITE_ 접두사 환경변수만 클라이언트에서 사용 가능
- [ ] API URL이 외부 접근 가능한지 확인
- [ ] CORS 설정 확인
```

## 4. 문제 해결 순서

### 4.1 디버깅 접근법
```
1. [ ] 문제 재현 가능한지 확인
2. [ ] 로그 추가하여 문제 지점 찾기
3. [ ] 최소 재현 코드 작성
4. [ ] 단계별 테스트
5. [ ] 해결 후 로그 제거
```

### 4.2 성능 고려사항
```
- [ ] 불필요한 console.log 제거
- [ ] 디버그 코드 제거
- [ ] 반복문 최적화
- [ ] 비동기 처리 확인
```

## 5. 배포 전 최종 체크

### 5.1 코드 클린업
```
- [ ] 임시 파일 삭제
- [ ] 테스트 파일 정리
- [ ] 주석 처리된 코드 제거
- [ ] TODO 주석 확인
```

### 5.2 문서화
```
- [ ] README 업데이트 필요성 확인
- [ ] API 변경사항 문서화
- [ ] 환경변수 변경사항 기록
```

## 6. 자주 하는 실수 방지

### 6.1 환경변수
```
- [ ] 프론트: VITE_로 시작하는지 확인
- [ ] 백엔드: .env 파일 위치 확인
- [ ] 민감 정보 노출 방지
```

### 6.2 포트 설정
```
- [ ] 로컬: 8001
- [ ] Docker 외부: 8080
- [ ] Docker 내부: 8001
```

### 6.3 API 엔드포인트
```
- [ ] 로컬: http://localhost:8001
- [ ] NAS: http://192.168.50.150:8080
- [ ] 프로덕션: https://api.bll-pro.com
```

## 7. 팀 협업 규칙

### 7.1 커밋 메시지
```
- [ ] 명확한 변경사항 설명
- [ ] fix: 버그 수정
- [ ] feat: 새 기능
- [ ] refactor: 리팩토링
- [ ] docs: 문서 수정
```

### 7.2 코드 리뷰 요청 시
```
- [ ] 변경 이유 설명
- [ ] 테스트 방법 공유
- [ ] 영향 범위 명시
```

## 사용 방법

1. 코드 수정 전 이 문서를 열고 체크리스트 확인
2. 각 항목을 체크하면서 진행
3. 문제 발생 시 이 문서의 해결 순서 따르기
4. 새로운 규칙이 필요하면 이 문서에 추가

---

마지막 업데이트: 2025-01-15
작성자: Claude Code Assistant