# KyyQuant AI Solution 백테스트 가이드
## 사전 필터링 전략을 활용한 투자 시스템 사용법

---

## 📋 목차
1. [시작하기 전에](#시작하기-전에)
2. [투자설정 - 유니버스 필터링](#1-투자설정---유니버스-필터링)
3. [전략빌더 - 매매 전략 생성](#2-전략빌더---매매-전략-생성)
4. [백테스트 - 전략 검증](#3-백테스트---전략-검증)
5. [사전 필터링 전략 활용법](#4-사전-필터링-전략-활용법)
6. [실전 활용 예시](#5-실전-활용-예시)
7. [자주 묻는 질문](#6-자주-묻는-질문)
8. [문제 해결 가이드](#7-문제-해결-가이드)

---

## 시작하기 전에

### 필수 준비사항
- ✅ KyyQuant 계정 생성 및 로그인
- ✅ 최신 버전 브라우저 (Chrome, Edge 권장)
- ✅ 안정적인 인터넷 연결

### 시스템 개요
KyyQuant AI Solution은 세 가지 핵심 구성요소로 이루어져 있습니다:
1. **투자설정**: 투자할 종목군(유니버스) 정의
2. **전략빌더**: 매매 시점과 규칙 설정
3. **백테스트**: 과거 데이터로 전략 성과 검증

---

## 1. 투자설정 - 유니버스 필터링

### 1.1 투자설정 페이지 접속
1. 상단 메뉴에서 **"투자설정"** 클릭
2. 기본적으로 4가지 필터 카테고리가 표시됩니다

### 1.2 필터 카테고리 이해하기

#### 가치지표 필터
- **PER (주가수익비율)**: 낮을수록 저평가
  - 추천 설정: 0 ~ 15
- **PBR (주가순자산비율)**: 낮을수록 저평가
  - 추천 설정: 0.5 ~ 2
- **ROE (자기자본이익률)**: 높을수록 수익성 우수
  - 추천 설정: 10% 이상

#### 재무지표 필터
- **매출액**: 기업 규모 필터링
  - 대형주: 1조원 이상
  - 중형주: 1000억 ~ 1조원
  - 소형주: 1000억원 이하
- **영업이익률**: 수익성 지표
  - 추천: 10% 이상
- **부채비율**: 재무 안정성
  - 추천: 100% 이하

#### 섹터 필터
- 특정 산업군 선택/제외
- 복수 선택 가능
- 예시: IT, 바이오, 금융, 제조업 등

#### 투자자 동향 필터
- **외국인 순매수**: 외국인 투자 동향
- **기관 순매수**: 기관 투자 동향
- 최근 20일 기준 설정 권장

### 1.3 필터 적용 및 저장

```
💡 실전 팁: 초보자는 다음 설정으로 시작하세요
- PER: 0 ~ 20
- PBR: 0.5 ~ 3
- ROE: 5% 이상
- 부채비율: 150% 이하
```

1. 원하는 필터 값 입력
2. **"필터 적용"** 버튼 클릭
3. 필터링 결과 확인 (종목 수, 리스트)
4. **"필터 저장"** 버튼 클릭
   - 로컬 저장: 현재 브라우저에만 저장
   - 클라우드 저장: 계정과 연동, 모든 기기에서 사용 가능
5. 필터 이름 입력 (예: "안정적인 가치주", "성장주 필터")

---

## 2. 전략빌더 - 매매 전략 생성

### 2.1 전략빌더 접속
1. 상단 메뉴에서 **"전략빌더"** 클릭
2. 새 전략 생성 또는 기존 전략 수정 선택

### 2.2 기본 전략 설정

#### 전략 이름 및 설명
- 명확한 이름 설정 (예: "모멘텀 돌파 전략")
- 간단한 설명 추가

#### 진입 조건 설정
매수 시점을 정의하는 조건들:

**이동평균 돌파**
```
조건: 주가 > 20일 이동평균선
의미: 상승 추세 진입 시그널
```

**거래량 조건**
```
조건: 당일 거래량 > 20일 평균 거래량 × 1.5
의미: 관심도 증가 시그널
```

**RSI 조건**
```
조건: RSI(14) < 70
의미: 과매수 구간 회피
```

#### 청산 조건 설정
매도 시점을 정의하는 조건들:

**손절매 (Stop Loss)**
```
조건: 손실률 > -5%
의미: 최대 5% 손실에서 자동 매도
```

**익절매 (Take Profit)**
```
조건: 수익률 > 10%
의미: 10% 수익 달성 시 자동 매도
```

**추적 손절 (Trailing Stop)**
```
조건: 최고점 대비 -3% 하락
의미: 수익 보호를 위한 동적 손절
```

### 2.3 전략 저장 및 관리
1. **"전략 저장"** 버튼 클릭
2. 로컬 또는 클라우드 저장 선택
3. 저장된 전략은 언제든 불러와서 수정 가능

---

## 3. 백테스트 - 전략 검증

### 3.1 백테스트 설정

#### 기본 설정
1. 상단 메뉴에서 **"백테스트"** 클릭
2. 백테스트 기간 설정
   - 권장: 최소 1년, 이상적으로 3~5년
   - 예시: 2020-01-01 ~ 2024-12-31

#### 초기 자본 및 수수료
- 초기 자본: 1,000만원 (기본값)
- 거래 수수료: 0.015% (실제 증권사 수수료 반영)
- 슬리피지: 0.1% (시장가 주문 시 가격 미끄러짐)

### 3.2 필터링 전략 설정 ⭐️ (핵심)

#### 사전 필터링 모드 선택
1. **"필터링 전략 설정"** 섹션 찾기
2. **"사전 필터링"** 카드 클릭

#### 사전 필터링의 장점
- ✅ 빠른 백테스트 속도
- ✅ 명확한 투자 유니버스
- ✅ 일관된 종목군 유지

#### 저장된 필터 불러오기
1. **"저장된 필터 불러오기"** 버튼 클릭
2. 로컬 또는 클라우드 탭 선택
3. 이전에 저장한 필터 선택
4. **"불러오기"** 클릭

### 3.3 백테스트 실행

1. **"전략 선택"** 드롭다운에서 저장된 전략 선택
2. 모든 설정 확인
3. **"백테스트 시작"** 버튼 클릭
4. 진행 상황 모니터링 (프로그레스 바)

### 3.4 결과 분석

#### 주요 성과 지표
- **총 수익률**: 전체 기간 수익률
- **연평균 수익률 (CAGR)**: 연복리 수익률
- **최대 낙폭 (MDD)**: 최대 손실 구간
- **샤프 비율**: 위험 대비 수익률
- **승률**: 수익 거래 비율

#### 상세 분석
- 수익 곡선 그래프
- 월별/연도별 수익률
- 개별 거래 내역
- 종목별 성과 분석

---

## 4. 사전 필터링 전략 활용법

### 4.1 왜 사전 필터링인가?

**장점**
1. **성능 최적화**: 한정된 종목군만 분석하여 백테스트 속도 향상
2. **명확한 전략**: 투자 철학이 반영된 일관된 종목군
3. **리스크 관리**: 위험 종목 사전 제외

**적합한 경우**
- 명확한 투자 기준이 있는 투자자
- 특정 섹터/테마 집중 투자
- 빠른 백테스트가 필요한 경우

### 4.2 효과적인 필터 조합

#### 안정적인 배당주 투자
```
필터 설정:
- 배당수익률: 3% 이상
- ROE: 10% 이상
- 부채비율: 100% 이하
- 시가총액: 1조원 이상
```

#### 성장주 투자
```
필터 설정:
- 매출 성장률: 20% 이상
- 영업이익 성장률: 15% 이상
- PEG: 1 이하
- 섹터: IT, 바이오, 신재생에너지
```

#### 턴어라운드 투자
```
필터 설정:
- PBR: 1 이하
- 최근 분기 흑자 전환
- 부채비율: 감소 추세
- 기관 순매수: 양수
```

### 4.3 리밸런싱 설정

#### 동적 리밸런싱 활성화
1. 필터링 전략 설정에서 **"동적 리밸런싱"** 토글 ON
2. 리밸런싱 주기 선택:
   - 매일: 단기 트레이딩
   - 매주: 스윙 트레이딩
   - 매월: 중기 투자 (권장)
   - 분기별: 장기 투자

---

## 5. 실전 활용 예시

### 초보자를 위한 첫 백테스트

#### Step 1: 투자설정
```
1. 투자설정 페이지 이동
2. 가치지표 설정:
   - PER: 5 ~ 15
   - PBR: 0.5 ~ 2
3. 재무지표 설정:
   - ROE: 10% 이상
   - 부채비율: 100% 이하
4. 필터 적용 → 약 50~100개 종목 필터링
5. "안정 가치주" 이름으로 클라우드 저장
```

#### Step 2: 전략빌더
```
1. 전략빌더 페이지 이동
2. 새 전략 생성: "이평선 돌파"
3. 진입 조건:
   - 종가 > 20일 이동평균
   - 거래량 > 20일 평균 × 1.2
4. 청산 조건:
   - 손절: -5%
   - 익절: +15%
5. 전략 저장
```

#### Step 3: 백테스트
```
1. 백테스트 페이지 이동
2. 기간: 2021-01-01 ~ 2024-12-31
3. 필터링 전략: 사전 필터링 선택
4. "저장된 필터 불러오기" → "안정 가치주" 선택
5. 전략 선택: "이평선 돌파"
6. 백테스트 시작
7. 결과 분석 및 전략 개선
```

### 중급자를 위한 섹터 로테이션

```
1. 섹터별 필터 3개 생성:
   - "IT 성장주": IT섹터 + 매출성장 20%+
   - "금융 가치주": 금융섹터 + PBR 1 이하
   - "바이오 모멘텀": 바이오섹터 + 52주 신고가 근접

2. 각 필터별로 별도 백테스트 실행

3. 성과 비교 후 시장 상황에 맞는 섹터 선택

4. 월별 리밸런싱으로 섹터 로테이션 구현
```

---

## 6. 자주 묻는 질문

### Q1: 필터를 너무 엄격하게 설정하면 어떻게 되나요?
**A**: 종목 수가 너무 적어지면 (10개 미만) 분산투자 효과가 떨어집니다. 최소 20~30개 종목이 되도록 필터를 조정하세요.

### Q2: 클라우드 저장과 로컬 저장의 차이는?
**A**: 
- 로컬: 현재 브라우저에만 저장, 빠른 접근
- 클라우드: 모든 기기에서 접근 가능, 영구 보관

### Q3: 백테스트 결과가 실제 투자와 다를 수 있나요?
**A**: 네, 다음 요인들로 인해 차이가 발생할 수 있습니다:
- 슬리피지 (실제 체결가 차이)
- 거래 제한 (상한가/하한가)
- 유동성 부족
- 시장 충격

### Q4: 리밸런싱 주기는 어떻게 정하나요?
**A**: 
- 단기 전략: 매일 또는 매주
- 중기 전략: 매월 (권장)
- 장기 전략: 분기별 또는 반기별

### Q5: 필터 조건을 몇 개나 설정해야 하나요?
**A**: 3~5개 정도가 적당합니다. 너무 많으면 과최적화 위험이 있습니다.

---

## 7. 문제 해결 가이드

### 문제: "종목 데이터를 불러올 수 없습니다"
**해결책**:
1. 인터넷 연결 확인
2. 종목 코드 형식 확인 (6자리 숫자)
3. 페이지 새로고침 (F5)
4. 다른 브라우저에서 시도

### 문제: "필터 저장이 실패했습니다"
**해결책**:
1. 로그인 상태 확인 (클라우드 저장 시)
2. 브라우저 쿠키/캐시 정리
3. 필터 이름 중복 확인
4. 로컬 저장 공간 확인

### 문제: "백테스트가 너무 오래 걸립니다"
**해결책**:
1. 사전 필터링 모드 사용
2. 백테스트 기간 단축
3. 종목 수 줄이기 (필터 조정)
4. 복잡한 지표 계산 단순화

### 문제: "클라우드 필터가 0개 종목으로 표시됩니다"
**해결책**:
1. 필터를 다시 저장
2. 페이지 새로고침
3. 로그아웃 후 재로그인
4. 지원팀 문의

---

## 📞 추가 지원

### 도움이 필요하신가요?
- 📧 이메일: support@kyyquant.com
- 💬 실시간 채팅: 우측 하단 채팅 아이콘
- 📚 동영상 튜토리얼: [YouTube 채널]
- 🌐 커뮤니티: [Discord 서버]

### 업데이트 정보
최신 기능과 개선사항은 공지사항을 확인해주세요.

---

*마지막 업데이트: 2025년 9월*
*버전: 2.0.0 (백테스트 필터링 시스템 추가)*