# KyyQuant AI Solution PRD (Product Requirements Document)

## 프로젝트 개요
KyyQuant AI Solution은 키움증권 OpenAPI를 활용한 웹 기반 주식 자동 매매 시스템이다. 사용자가 보조지표를 활용하여 매매 전략을 수동으로 설정하고, AI는 포트폴리오 최적화와 시장 환경 분석을 담당한다.

## 핵심 요구사항

### 1. 기술 스택
- Frontend: Next.js 14 (App Router), TypeScript, TailwindCSS, shadcn/ui
- Backend: Supabase (PostgreSQL + Realtime), Vercel Functions
- Trading Server: Python FastAPI + 키움 OpenAPI (Railway/Render 배포)
- AI Integration: Claude API, OpenAI API
- Version Control: GitHub
- Deployment: Vercel (Frontend), Railway/Render (Trading Server)

### 2. 핵심 기능

#### 2.1 매매 전략 관리
- 사용자가 보조지표(MA, RSI, MACD, Bollinger Bands 등)를 조합하여 매매 전략 생성
- 드래그앤드롭 방식의 시각적 전략 빌더
- 진입/청산 조건 설정
- 리스크 관리 파라미터 설정 (손절, 익절, 포지션 크기)

#### 2.2 실시간 모니터링
- 실시간 잔고 및 포지션 현황
- 일별/기간별 수익률 차트
- 거래 내역 추적 및 관리
- 포트폴리오 구성 비중 표시

#### 2.3 백테스팅
- 과거 데이터를 활용한 전략 성과 검증
- 다중 전략 동시 백테스팅
- 수익률, 샤프비율, MDD, 승률 등 성과 지표 제공
- 백테스팅 결과 시각화

#### 2.4 실시간 종목 스크리닝
- 보조지표 조건 기반 실시간 종목 필터링
- 조건 충족 종목 자동 감지 및 알림
- 다중 필터 동시 운영

#### 2.5 AI 포트폴리오 매니저
- Claude/ChatGPT를 활용한 포트폴리오 분석
- 자산 배분 최적화 제안
- 시장 환경 변화 모니터링 및 알림
- 섹터 로테이션 제안

#### 2.6 자동 매매 실행
- 전략 신호에 따른 자동 주문 실행
- 포지션 사이징 및 리스크 관리
- 주문 상태 실시간 추적

### 3. 데이터 관리
- 모든 거래 내역 저장 및 관리
- 실시간 시세 데이터 수집
- 일별 성과 자동 집계
- 세금 계산 지원

### 4. 보안 요구사항
- Supabase Row Level Security 활용
- API 키 암호화 저장
- 사용자별 데이터 격리
- Rate Limiting 구현

### 5. 성능 요구사항
- 실시간 데이터 업데이트 (1초 이내)
- 동시 접속자 100명 이상 지원
- 백테스팅 10년치 데이터 처리 가능
- 99.9% 가용성 목표

### 6. 사용자 경험
- 반응형 웹 디자인 (모바일 지원)
- 직관적인 대시보드
- 실시간 알림 (웹 푸시, 이메일)
- 다크모드 지원

## 개발 단계

### Phase 1: 기초 인프라 (2-3주)
- 프로젝트 초기 설정
- 데이터베이스 스키마 설계
- 키움 API 연동 서버 구축
- 사용자 인증 시스템

### Phase 2: 핵심 기능 (4-5주)
- 실시간 대시보드
- 전략 빌더 시스템
- 백테스팅 엔진
- 실시간 종목 스크리닝

### Phase 3: 고급 기능 (3-4주)
- AI 포트폴리오 매니저
- 자동 매매 실행 시스템
- 성과 분석 및 리포팅

### Phase 4: 마무리 (2주)
- 알림 및 모니터링
- 테스트 및 최적화
- 문서화 및 배포

## 성공 지표
- 전략 백테스팅 정확도 95% 이상
- 실시간 데이터 지연 1초 이내
- 시스템 가용성 99.9% 이상
- 사용자 만족도 4.5/5.0 이상

## 제약사항
- 키움증권 API 사용 (타 증권사 미지원)
- 국내 주식시장만 지원 (해외 주식 제외)
- Windows 환경에서 키움 API 서버 실행 필요

## 향후 확장 계획
- 다른 증권사 API 지원
- 해외 주식 거래 지원
- 암호화폐 거래 통합
- 모바일 앱 개발
- 소셜 트레이딩 기능